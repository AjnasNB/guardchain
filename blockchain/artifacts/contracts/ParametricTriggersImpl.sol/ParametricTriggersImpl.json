{
  "_format": "hh-sol-artifact-1",
  "contractName": "ParametricTriggersImpl",
  "sourceName": "contracts/ParametricTriggersImpl.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_claimsEngine",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_stablecoin",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_vrfCoordinator",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_admin",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "transactionHash",
          "type": "bytes32"
        }
      ],
      "name": "ParametricPayout",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "conditionId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "payoutAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "TriggerActivated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "oracle",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "dataFeedId",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "threshold",
              "type": "uint256"
            },
            {
              "internalType": "uint8",
              "name": "comparisonType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "payoutAmount",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "active",
              "type": "bool"
            }
          ],
          "internalType": "struct IParametricTriggers.TriggerCondition",
          "name": "condition",
          "type": "tuple"
        }
      ],
      "name": "addTriggerCondition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "admin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        }
      ],
      "name": "checkTriggers",
      "outputs": [
        {
          "internalType": "bool",
          "name": "triggered",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "claimsEngine",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "beneficiary",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "executeParametricPayout",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        }
      ],
      "name": "getAvailablePayout",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "available",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        }
      ],
      "name": "getPolicyTriggers",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "policyId",
              "type": "bytes32"
            },
            {
              "components": [
                {
                  "internalType": "address",
                  "name": "oracle",
                  "type": "address"
                },
                {
                  "internalType": "bytes32",
                  "name": "dataFeedId",
                  "type": "bytes32"
                },
                {
                  "internalType": "uint256",
                  "name": "threshold",
                  "type": "uint256"
                },
                {
                  "internalType": "uint8",
                  "name": "comparisonType",
                  "type": "uint8"
                },
                {
                  "internalType": "uint256",
                  "name": "payoutAmount",
                  "type": "uint256"
                },
                {
                  "internalType": "bool",
                  "name": "active",
                  "type": "bool"
                }
              ],
              "internalType": "struct IParametricTriggers.TriggerCondition[]",
              "name": "conditions",
              "type": "tuple[]"
            },
            {
              "internalType": "uint256",
              "name": "totalPayoutCap",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "usedPayout",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "active",
              "type": "bool"
            }
          ],
          "internalType": "struct IParametricTriggers.PolicyTriggers",
          "name": "triggers",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        }
      ],
      "name": "hasActiveTriggers",
      "outputs": [
        {
          "internalType": "bool",
          "name": "hasActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "policyExists",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "policyTriggers",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "totalPayoutCap",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "usedPayout",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "policyId",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "conditionIndex",
          "type": "uint256"
        }
      ],
      "name": "removeTriggerCondition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "stablecoin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "vrfCoordinator",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60e0346100c857601f610e6f38819003918201601f19168301916001600160401b038311848410176100cd578084926080946040528339810103126100c857610047816100e3565b90610054602082016100e3565b61006c6060610065604085016100e3565b93016100e3565b60809390935260a05260c052600080546001600160a01b0319166001600160a01b03909216919091179055604051610d7790816100f882396080518181816107d20152610905015260a0518161026e015260c051816102e40152f35b600080fd5b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b03821682036100c85756fe6080604052600436101561001257600080fd5b60003560e01c806304555b43146109345780631099ae0a146108ef57806325d6ca87146107a15780634e27b1e5146107795780635aa61ec8146105575780636c3808561461038c57806390a6144f14610366578063a00c147914610313578063a3e56fa8146102ce578063da7d23721461029d578063e9cbd82214610258578063f3772a41146100d95763f851a440146100ab57600080fd5b346100d45760003660031901126100d4576000546040516001600160a01b039091168152602090f35b600080fd5b346100d45760e03660031901126100d45760043560c03660231901126100d4576000546001600160a01b0391906101139083163314610b6b565b80600052600260205260ff604060002054161561020a575b50600160205260016040600020018054680100000000000000008110156101f45761015b91600182018155610ba4565b9190916101de576024359081168091036100d4576bffffffffffffffffffffffff60a01b825416178155604435600182015560643560028201556003810160843560ff81168091036100d457815460ff191617905560a435600482015560c43580151581036100d45760056101dc92019060ff801983541691151516179055565b005b634e487b7160e01b600052600060045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6004906001602052604060002090815569d3c21bcecceda10000006002820155600060038201550160ff1990600182825416179055600260205260016040600020918254161790558161012b565b346100d45760003660031901126100d4576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100d45760203660031901126100d4576004356000526002602052602060ff604060002054166040519015158152f35b346100d45760003660031901126100d4576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100d45760203660031901126100d45760043560005260016020526080604060002080549060028101549060ff6004600383015492015416916040519384526020840152604083015215156060820152f35b346100d45760203660031901126100d4576020610384600435610ce3565b604051908152f35b346100d4576020806003193601126100d4576004358060005260029081835260ff906103be8260406000205416610bd6565b806000526001808552826004604060002001541615610512579181600052828552604060002093836000958160009101915b610401575b87876040519015158152f35b815481101561050d576104148183610ba4565b5060058101805488878216156104fc57506000600388818601541680156000146104b857505050858301546103e810155b610463575b5050509061045a86949392610c15565b909192936103f0565b61045a9299509088969594939160ff1916905580877fb0ef111399c9c67cfb2ace0c97c568915846eac2606381ef80129be262dbfbaf60408d60048b9e01549082519182524290820152a3919293948a61044a565b808c036104d157505050858301546103e811155b610445565b8089036104e857505050858301546103e814610445565b036104cc5750858301546103e81415610445565b9695949391505061045a9150610c15565b6103f5565b60405162461bcd60e51b815260048101869052601a60248201527f506f6c696379207472696767657273206e6f74206163746976650000000000006044820152606490fd5b346100d45760203660031901126100d45760043560006080610577610c47565b8281526060602082015282604082015282606082015201528060005260026020526105a960ff60406000205416610bd6565b600052600160205260406000206105be610c47565b9080548252600181019182549267ffffffffffffffff84116101f45760405193601f19603f8260051b0116850185811067ffffffffffffffff8211176101f457604052808552602085019160005260206000206000925b8284106106fc5750505050602081019283526002820154906040810191825260ff600460038501549460608401958652015416608082019015158152604051936020855260c09586860193516020870152519360a0938460408801528551809152602060e088019601906000985b818a106106a757505050859650516060860152516080850152511515908301520390f35b909196602082600192898b51858060a01b03815116835284810151858401526040810151604084015260ff606082015116606084015260808101516080840152015115158a8201520198019901989190610683565b604051908160c081011067ffffffffffffffff60c0840111176101f45760206006918360c060019501604052848060a01b03865416815284860154838201526002860154604082015260ff60038701541660608201526004860154608082015260ff600587015416151560a0820152815201920193019290610615565b346100d45760203660031901126100d4576020610797600435610c67565b6040519015158152f35b346100d45760603660031901126100d4576001600160a01b0360243581811691600435918390036100d457604435907f00000000000000000000000000000000000000000000000000000000000000001633036108b55781600052600260205261081260ff60406000205416610bd6565b8160005260016020526040600020600381019182549160026108348385610c3a565b9101541061087b577fabaf5bfca16d8f61a10cd3869d4e65b7d97960b773d862d3082891ba504ab8ea9261086a82604094610c3a565b9055815190815260006020820152a3005b60405162461bcd60e51b8152602060048201526012602482015271045786365656473207061796f7574206361760741b6044820152606490fd5b60405162461bcd60e51b81526020600482015260126024820152714f6e6c7920636c61696d7320656e67696e6560701b6044820152606490fd5b346100d45760003660031901126100d4576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100d45760403660031901126100d45760005460248035916001600160a01b039190600435906109689084163314610b6b565b806000526020906002825261098460ff60406000205416610bd6565b806000526001948583528560406000200154811015610b27578160005285835285604060002001549460001995868101908111610b1257908183928996959403610a44575b50505060005252826040600020019182548015610a2f5701926109ec8484610ba4565b929092610a1b575081600060059281809555820155826002820155826003820155826004820155015555600080f35b634e487b7160e01b60005260006004526000fd5b82634e487b7160e01b60005260316004526000fd5b83949550610a6490610a7992939460005289875289604060002001610ba4565b50928460005288865288604060002001610ba4565b919091610afd578794939291908282146109c95760ff6005848193610af59654166bffffffffffffffffffffffff60a01b865416178555888101548986015560028101546002860155600385018360038301541684198254161790556004810154600486015501541691019060ff801983541691151516179055565b8680806109c9565b85634e487b7160e01b60005260006004526000fd5b85634e487b7160e01b60005260116004526000fd5b60405162461bcd60e51b8152600481018490526017818601527f496e76616c696420636f6e646974696f6e20696e6465780000000000000000006044820152606490fd5b15610b7257565b60405162461bcd60e51b815260206004820152600a60248201526927b7363c9030b236b4b760b11b6044820152606490fd5b8054821015610bc0576000526006602060002091020190600090565b634e487b7160e01b600052603260045260246000fd5b15610bdd57565b60405162461bcd60e51b815260206004820152601060248201526f141bdb1a58de481b9bdd08199bdd5b9960821b6044820152606490fd5b6000198114610c245760010190565b634e487b7160e01b600052601160045260246000fd5b91908201809211610c2457565b6040519060a0820182811067ffffffffffffffff8211176101f457604052565b6000908152600260205260ff8060408320541615610cdf5760018060205260408320918060048401541615610cd957818493018054935b848110610cad57505050505090565b826005610cba8385610ba4565b50015416610cd057610ccb90610c15565b610c9e565b50505091505090565b50505090565b5090565b6000908152600260205260ff60408220541615610d3e5760016020526040812090600260038301549201549182811015610d38578203918211610d24575090565b634e487b7160e01b81526011600452602490fd5b50905090565b9056fea26469706673582212201f82da3448397ce7d8cb32a27899b9bf75c87e81f6eefc08b05e49c5ac393a5c64736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436101561001257600080fd5b60003560e01c806304555b43146109345780631099ae0a146108ef57806325d6ca87146107a15780634e27b1e5146107795780635aa61ec8146105575780636c3808561461038c57806390a6144f14610366578063a00c147914610313578063a3e56fa8146102ce578063da7d23721461029d578063e9cbd82214610258578063f3772a41146100d95763f851a440146100ab57600080fd5b346100d45760003660031901126100d4576000546040516001600160a01b039091168152602090f35b600080fd5b346100d45760e03660031901126100d45760043560c03660231901126100d4576000546001600160a01b0391906101139083163314610b6b565b80600052600260205260ff604060002054161561020a575b50600160205260016040600020018054680100000000000000008110156101f45761015b91600182018155610ba4565b9190916101de576024359081168091036100d4576bffffffffffffffffffffffff60a01b825416178155604435600182015560643560028201556003810160843560ff81168091036100d457815460ff191617905560a435600482015560c43580151581036100d45760056101dc92019060ff801983541691151516179055565b005b634e487b7160e01b600052600060045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6004906001602052604060002090815569d3c21bcecceda10000006002820155600060038201550160ff1990600182825416179055600260205260016040600020918254161790558161012b565b346100d45760003660031901126100d4576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100d45760203660031901126100d4576004356000526002602052602060ff604060002054166040519015158152f35b346100d45760003660031901126100d4576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100d45760203660031901126100d45760043560005260016020526080604060002080549060028101549060ff6004600383015492015416916040519384526020840152604083015215156060820152f35b346100d45760203660031901126100d4576020610384600435610ce3565b604051908152f35b346100d4576020806003193601126100d4576004358060005260029081835260ff906103be8260406000205416610bd6565b806000526001808552826004604060002001541615610512579181600052828552604060002093836000958160009101915b610401575b87876040519015158152f35b815481101561050d576104148183610ba4565b5060058101805488878216156104fc57506000600388818601541680156000146104b857505050858301546103e810155b610463575b5050509061045a86949392610c15565b909192936103f0565b61045a9299509088969594939160ff1916905580877fb0ef111399c9c67cfb2ace0c97c568915846eac2606381ef80129be262dbfbaf60408d60048b9e01549082519182524290820152a3919293948a61044a565b808c036104d157505050858301546103e811155b610445565b8089036104e857505050858301546103e814610445565b036104cc5750858301546103e81415610445565b9695949391505061045a9150610c15565b6103f5565b60405162461bcd60e51b815260048101869052601a60248201527f506f6c696379207472696767657273206e6f74206163746976650000000000006044820152606490fd5b346100d45760203660031901126100d45760043560006080610577610c47565b8281526060602082015282604082015282606082015201528060005260026020526105a960ff60406000205416610bd6565b600052600160205260406000206105be610c47565b9080548252600181019182549267ffffffffffffffff84116101f45760405193601f19603f8260051b0116850185811067ffffffffffffffff8211176101f457604052808552602085019160005260206000206000925b8284106106fc5750505050602081019283526002820154906040810191825260ff600460038501549460608401958652015416608082019015158152604051936020855260c09586860193516020870152519360a0938460408801528551809152602060e088019601906000985b818a106106a757505050859650516060860152516080850152511515908301520390f35b909196602082600192898b51858060a01b03815116835284810151858401526040810151604084015260ff606082015116606084015260808101516080840152015115158a8201520198019901989190610683565b604051908160c081011067ffffffffffffffff60c0840111176101f45760206006918360c060019501604052848060a01b03865416815284860154838201526002860154604082015260ff60038701541660608201526004860154608082015260ff600587015416151560a0820152815201920193019290610615565b346100d45760203660031901126100d4576020610797600435610c67565b6040519015158152f35b346100d45760603660031901126100d4576001600160a01b0360243581811691600435918390036100d457604435907f00000000000000000000000000000000000000000000000000000000000000001633036108b55781600052600260205261081260ff60406000205416610bd6565b8160005260016020526040600020600381019182549160026108348385610c3a565b9101541061087b577fabaf5bfca16d8f61a10cd3869d4e65b7d97960b773d862d3082891ba504ab8ea9261086a82604094610c3a565b9055815190815260006020820152a3005b60405162461bcd60e51b8152602060048201526012602482015271045786365656473207061796f7574206361760741b6044820152606490fd5b60405162461bcd60e51b81526020600482015260126024820152714f6e6c7920636c61696d7320656e67696e6560701b6044820152606490fd5b346100d45760003660031901126100d4576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100d45760403660031901126100d45760005460248035916001600160a01b039190600435906109689084163314610b6b565b806000526020906002825261098460ff60406000205416610bd6565b806000526001948583528560406000200154811015610b27578160005285835285604060002001549460001995868101908111610b1257908183928996959403610a44575b50505060005252826040600020019182548015610a2f5701926109ec8484610ba4565b929092610a1b575081600060059281809555820155826002820155826003820155826004820155015555600080f35b634e487b7160e01b60005260006004526000fd5b82634e487b7160e01b60005260316004526000fd5b83949550610a6490610a7992939460005289875289604060002001610ba4565b50928460005288865288604060002001610ba4565b919091610afd578794939291908282146109c95760ff6005848193610af59654166bffffffffffffffffffffffff60a01b865416178555888101548986015560028101546002860155600385018360038301541684198254161790556004810154600486015501541691019060ff801983541691151516179055565b8680806109c9565b85634e487b7160e01b60005260006004526000fd5b85634e487b7160e01b60005260116004526000fd5b60405162461bcd60e51b8152600481018490526017818601527f496e76616c696420636f6e646974696f6e20696e6465780000000000000000006044820152606490fd5b15610b7257565b60405162461bcd60e51b815260206004820152600a60248201526927b7363c9030b236b4b760b11b6044820152606490fd5b8054821015610bc0576000526006602060002091020190600090565b634e487b7160e01b600052603260045260246000fd5b15610bdd57565b60405162461bcd60e51b815260206004820152601060248201526f141bdb1a58de481b9bdd08199bdd5b9960821b6044820152606490fd5b6000198114610c245760010190565b634e487b7160e01b600052601160045260246000fd5b91908201809211610c2457565b6040519060a0820182811067ffffffffffffffff8211176101f457604052565b6000908152600260205260ff8060408320541615610cdf5760018060205260408320918060048401541615610cd957818493018054935b848110610cad57505050505090565b826005610cba8385610ba4565b50015416610cd057610ccb90610c15565b610c9e565b50505091505090565b50505090565b5090565b6000908152600260205260ff60408220541615610d3e5760016020526040812090600260038301549201549182811015610d38578203918211610d24575090565b634e487b7160e01b81526011600452602490fd5b50905090565b9056fea26469706673582212201f82da3448397ce7d8cb32a27899b9bf75c87e81f6eefc08b05e49c5ac393a5c64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
